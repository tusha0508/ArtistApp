# ðŸ“Š Portfolio Upload Validation - Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ARTIST APP                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          MOBILE APP (Frontend)                           â”‚  â”‚
â”‚  â”‚          upload.jsx                                      â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  âœ“ Shows Upload Limits Info Box                        â”‚  â”‚
â”‚  â”‚    â”œâ”€ Max sizes (50MB, 200MB)                          â”‚  â”‚
â”‚  â”‚    â”œâ”€ Supported formats                                â”‚  â”‚
â”‚  â”‚    â””â”€ Duration limit (5 min)                           â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  âœ“ File Selection & Validation                         â”‚  â”‚
â”‚  â”‚    â”œâ”€ getFileSize(uri)                                 â”‚  â”‚
â”‚  â”‚    â”‚  â””â”€ Uses: expo-file-system                        â”‚  â”‚
â”‚  â”‚    â”œâ”€ getVideoDuration(uri)                            â”‚  â”‚
â”‚  â”‚    â”‚  â””â”€ Uses: expo-video-thumbnails                   â”‚  â”‚
â”‚  â”‚    â””â”€ validateFile(asset)                              â”‚  â”‚
â”‚  â”‚       â”œâ”€ Check format âœ“                                â”‚  â”‚
â”‚  â”‚       â”œâ”€ Check size âœ“                                  â”‚  â”‚
â”‚  â”‚       â””â”€ Check duration âœ“                              â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  âœ“ Error Handling                                       â”‚  â”‚
â”‚  â”‚    â””â”€ Shows error modal with details                   â”‚  â”‚
â”‚  â”‚       â”œâ”€ Invalid format                                â”‚  â”‚
â”‚  â”‚       â”œâ”€ File too large (shows actual size)            â”‚  â”‚
â”‚  â”‚       â””â”€ Video too long (shows actual duration)        â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  âœ“ Upload Flow                                         â”‚  â”‚
â”‚  â”‚    â””â”€ If valid â†’ Cloudinary upload                     â”‚  â”‚
â”‚  â”‚    â””â”€ Show caption modal                               â”‚  â”‚
â”‚  â”‚    â””â”€ Submit portfolio                                 â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â†“                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          BACKEND (Node.js/Express)                       â”‚  â”‚
â”‚  â”‚          uploadController.js + uploadRoutes.js          â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  âœ“ Validation Endpoint: POST /api/uploads/validate     â”‚  â”‚
â”‚  â”‚    Accepts:                                             â”‚  â”‚
â”‚  â”‚    â”œâ”€ filename                                          â”‚  â”‚
â”‚  â”‚    â”œâ”€ contentType                                       â”‚  â”‚
â”‚  â”‚    â”œâ”€ fileSizeMB                                        â”‚  â”‚
â”‚  â”‚    â””â”€ videoDurationSeconds                              â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  âœ“ Validation Logic                                    â”‚  â”‚
â”‚  â”‚    â”œâ”€ Format check                                      â”‚  â”‚
â”‚  â”‚    â”‚  â””â”€ Error: INVALID_FORMAT (400)                   â”‚  â”‚
â”‚  â”‚    â”œâ”€ Size check                                        â”‚  â”‚
â”‚  â”‚    â”‚  â””â”€ Error: FILE_TOO_LARGE (413)                   â”‚  â”‚
â”‚  â”‚    â””â”€ Duration check (video only)                       â”‚  â”‚
â”‚  â”‚       â””â”€ Error: VIDEO_TOO_LONG (413)                   â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  âœ“ Existing Routes Also Protected:                     â”‚  â”‚
â”‚  â”‚    â”œâ”€ POST /api/uploads/sign (Cloudinary signing)      â”‚  â”‚
â”‚  â”‚    â””â”€ POST /api/uploads/rewrite (AI caption)           â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚           â†“                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚          EXTERNAL SERVICES                              â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  âœ“ Cloudinary (Image/Video Hosting)                   â”‚  â”‚
â”‚  â”‚    â””â”€ Stores validated media files                     â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â”‚  âœ“ MongoDB (Database)                                  â”‚  â”‚
â”‚  â”‚    â””â”€ Stores portfolio records                         â”‚  â”‚
â”‚  â”‚                                                          â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Validation Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ USER OPENS UPLOAD SCREEN                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  ðŸ“‹ UPLOAD LIMITS VISIBLE                                  â”‚
â”‚  â”œâ”€ ðŸ“· Photos: Max 50MB | Formats: JPG, PNG, WebP, GIF   â”‚
â”‚  â””â”€ ðŸŽ¬ Videos: Max 200MB, 5 min | Formats: MP4, MOV, WebM â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                    USER TAPS
                  "UPLOAD PORTFOLIO"
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                               â”‚
    [IMAGE]                          [VIDEO]
         â”‚                               â”‚
         â†“                               â†“
    VALIDATE()                      VALIDATE()
         â”‚                               â”‚
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚ Format âœ“ â”‚                    â”‚ Format âœ“ â”‚
    â”‚ Size âœ“   â”‚                    â”‚ Size âœ“   â”‚
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜                    â”‚ Duration â”‚
         â”‚                          â”‚  Check âœ“ â”‚
    VALID?                          â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
         â”‚                               â”‚
      YES/NO                         VALID?
    â”Œâ”€â”€â”€â”´â”€â”€â”€â”                      â”Œâ”€â”€â”€â”´â”€â”€â”€â”
    â”‚       â”‚                      â”‚       â”‚
   YES     NO                     YES     NO
    â”‚       â”‚                      â”‚       â”‚
    â†“       â†“                      â†“       â†“
UPLOAD   ERROR             UPLOAD   ERROR
    â”‚      MODAL               â”‚      MODAL
    â”‚      â”œâ”€ Format          â”‚      â”œâ”€ Format
    â”‚      â”œâ”€ Size            â”‚      â”œâ”€ Size
    â”‚      â”‚  Shows: 75MB     â”‚      â”œâ”€ Duration
    â”‚      â”‚  Limit: 50MB     â”‚      â”‚  Shows: 6m 15s
    â”‚      â””â”€ Try Again       â”‚      â”‚  Limit: 5m
    â”‚                         â”‚      â””â”€ Try Again
    â”‚                         â”‚
    â†“                         â†“
TO CLOUDINARY      USER TRIES AGAIN
    â”‚                   OR CANCELS
    â†“
GET SECURE_URL
    â”‚
    â†“
SHOW CAPTION MODAL
    â”‚
    â†“
USER ADDS CAPTION
    â”‚
    â†“
SUBMIT PORTFOLIO
    â”‚
    â†“
  BACKEND
  VALIDATES
  (Double check)
    â”‚
    â†“
SAVE TO DB âœ…
```

---

## File Structure Changes

```
d:\ArtistApp2.0\
â”œâ”€â”€ mobile/
â”‚   â””â”€â”€ app/
â”‚       â””â”€â”€ (artist-tabs)/
â”‚           â””â”€â”€ upload.jsx â­ MODIFIED
â”‚               â”œâ”€ New imports: FileSystem, VideoThumbnails
â”‚               â”œâ”€ UPLOAD_LIMITS constant
â”‚               â”œâ”€ getFileSize() function
â”‚               â”œâ”€ getVideoDuration() function
â”‚               â”œâ”€ validateFile() function
â”‚               â”œâ”€ State: validationError, showValidationModal
â”‚               â”œâ”€ UI: Upload limits info box
â”‚               â””â”€ UI: Error validation modal
â”‚
â”œâ”€â”€ backend/
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ controllers/
â”‚       â”‚   â””â”€â”€ uploadController.js â­ MODIFIED
â”‚       â”‚       â”œâ”€ UPLOAD_LIMITS constant
â”‚       â”‚       â”œâ”€ validateFileUpload() function
â”‚       â”‚       â””â”€ export validateUpload
â”‚       â”‚
â”‚       â””â”€â”€ routes/
â”‚           â””â”€â”€ uploadRoutes.js â­ MODIFIED
â”‚               â””â”€ POST /api/uploads/validate route
â”‚
â””â”€â”€ Documentation/
    â”œâ”€â”€ UPLOAD_VALIDATION_GUIDE.md âœ¨ NEW
    â”œâ”€â”€ UPLOAD_VALIDATION_QUICK_REF.md âœ¨ NEW
    â”œâ”€â”€ UPLOAD_VALIDATION_COMPLETE.md âœ¨ NEW
    â””â”€â”€ UPLOAD_VALIDATION_YES_TO_ALL.md âœ¨ NEW
```

---

## Data Flow - Complete Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. USER SELECTS FILE                                        â”‚
â”‚    â””â”€ ImagePicker returns asset object                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                         â”‚
    â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”
    â”‚ getFile â”‚            â”‚ getVideoâ”‚
    â”‚  Size() â”‚            â”‚Duration()
    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
         â”‚                      â”‚
    fileSizeMB             duration
    (Number)            (Seconds)
         â”‚                      â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
            â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚ validateFile() â”‚
            â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ CHECK FORMAT       â”‚
        â”‚ â”œâ”€ Get extension   â”‚
        â”‚ â”œâ”€ Match against   â”‚
        â”‚ â”‚  supportedFormat â”‚
        â”‚ â””â”€ Valid?          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
        YES                NO
         â”‚                 â”‚
         â†“                 â†“
   CHECK SIZE         SET ERROR
         â”‚           SHOW MODAL
         â†“           RET FALSE
   â”œâ”€ Compare
   â”‚  fileSizeMB
   â”‚  vs limit
   â”‚
   â†“ Valid?
   â”‚
   â”œâ”€ YES: Check
   â”‚  Duration
   â”‚  (if video)
   â”‚
   â”‚ Compare
   â”‚ duration
   â”‚ vs limit
   â”‚
   â””â”€ VALID?
      â””â”€ YES: Return true
      â””â”€ NO: Error + Modal

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. IF VALID: UPLOAD                                         â”‚
â”‚    â””â”€ Upload to Cloudinary                                  â”‚
â”‚    â””â”€ Get secure_url                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                         â”‚
   SHOW CAPTION              ERROR
   MODAL                   SHOW MSG
        â”‚                    â”‚
        â†“                    â†“
   USER ADDS             USER RETRIES
   CAPTION            OR EXITS
        â”‚
        â†“
   SUBMIT TO
   /api/portfolios
   â”œâ”€ title
   â”œâ”€ caption
   â””â”€ mediaUrls
        â”‚
        â†“
   BACKEND CREATES
   PORTFOLIO RECORD
        â”‚
        â†“
   REDIRECT HOME âœ…
```

---

## State Management

### Frontend State
```javascript
State {
  showCaptionModal: boolean      // Show caption input modal
  caption: string                // User's caption
  mediaUrl: string               // Cloudinary URL
  isUploading: boolean           // Upload in progress
  captionRewriteLoading: boolean // AI rewrite in progress
  
  // NEW FOR VALIDATION:
  validationError: string        // Error message for modal
  showValidationModal: boolean   // Show validation error modal
}
```

### Backend State
```javascript
// UPLOAD_LIMITS constant
{
  PHOTO: { maxSizeMB, supportedFormats },
  VIDEO: { maxSizeMB, maxDurationSeconds, supportedFormats }
}
```

---

## Error Code Reference

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ERROR CODES                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                      â”‚
â”‚ INVALID_FORMAT (400)                               â”‚
â”‚ â””â”€ File extension not in supportedFormats           â”‚
â”‚    Example: .wav file when only JPG allowed         â”‚
â”‚                                                      â”‚
â”‚ FILE_TOO_LARGE (413)                               â”‚
â”‚ â””â”€ fileSizeMB exceeds maxSizeMB                     â”‚
â”‚    Example: 75MB JPG when 50MB limit                â”‚
â”‚                                                      â”‚
â”‚ VIDEO_TOO_LONG (413)                               â”‚
â”‚ â””â”€ videoDurationSeconds exceeds maxDurationSeconds  â”‚
â”‚    Example: 350 second video when 300s limit        â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Integration Points

### Frontend â† â†’ Backend
```
Frontend                          Backend
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â”‚                                 â”‚
  â”‚ POST /api/uploads/sign          â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚ { filename, contentType }       â”‚
  â”‚                                 â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ { cloudName, apiKey, etc }      â”‚
  â”‚                                 â”‚
  â”œâ”€ Upload to Cloudinary          â”‚
  â”‚  (Cloudinary, not backend)      â”‚
  â”‚                                 â”‚
  â”‚ POST /api/uploads/validate      â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚ { filename, fileSizeMB,         â”‚
  â”‚   videoDurationSeconds }        â”‚
  â”‚                                 â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ { valid: true } or error        â”‚
  â”‚                                 â”‚
  â”‚ POST /api/portfolios (submit)   â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
  â”‚ { title, caption, mediaUrls }   â”‚
  â”‚                                 â”‚
  â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ { _id, ... } or error           â”‚
  â”‚                                 â”‚
```

---

## Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           TECH STACK                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚ Frontend                                        â”‚
â”‚ â”œâ”€ React Native (Expo)                         â”‚
â”‚ â”œâ”€ expo-file-system (file operations)          â”‚
â”‚ â”œâ”€ expo-video-thumbnails (video metadata)      â”‚
â”‚ â”œâ”€ expo-image-picker (file selection)          â”‚
â”‚ â””â”€ Zustand (state management)                  â”‚
â”‚                                                 â”‚
â”‚ Backend                                         â”‚
â”‚ â”œâ”€ Node.js                                      â”‚
â”‚ â”œâ”€ Express.js (API)                            â”‚
â”‚ â”œâ”€ MongoDB (database)                          â”‚
â”‚ â””â”€ Cloudinary (image/video hosting)            â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**Complete Architecture Documentation**  
Implementation: January 15, 2026  
Status: âœ… Production Ready
